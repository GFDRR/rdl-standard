{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"$id": "http://riskdatalibrary.org/schemas/rdl_schema_v0_1.json",
	"title": "Risk Data Library Schema",
	"type": "object",
	"required": [
		"common"
	],
	"properties": {
		"common": {
			"type": "object",
			"properties": {
				"contribution": {
					"type": "object",
					"required": [
						"title",
						"abstract",
						"component",
						"organization",
						"model_source",
						"model_date",
						"geo_coverage",
						"publish",
						"license_code",
						"resources"
					],
					"properties": {
						"title": {
							"type": "string",
							"description": "The title of the dataset"
						},
						"identifier": {
							"type": "string",
							"description": "An id for this dataset. This identifier must be unique within the data catalogue it is stored in, and it is recommended that an identifier is chosen with a high likelihood of being globally unique."
						},
						"description": {
							"type": "string",
							"description": "A short description of the dataset"
						},
						"risk_data_type": {
							"type": "string",
							"description": "The type of risk data the dataset is.",
							"enum": [
								"Hazard",
								"Exposure",
								"Vulnerability",
								"Loss"
							]
						},
						"disaster_identifier": {
							"type": "string",
							"description": "The GLIDE number associated with this event disaster. A globally unique identification code for the observed or inferred hazard event. GLIDE numbers are available at https://www.glidenumber.net/glide/public/search/search.jsp."
						},
						"disaster_date": {
							"type": "string",
							"description": "The date the disaster data as identified by it's GLIDE number was collected.",
							"format": "date-time"
						},
						"model": {
							"title": "Source",
							"description": "The source model that produced the dataset.",
							"$ref": "#/$defs/model"
						},
						"version": {
							"type": [
								"string",
								"number"
							],
							"description": "The version of the dataset."
						},
						"purpose": {
							"type": "string",
							"description": "The purpose the dataset was produced for."
						},
						"project": {
							"type": "string",
							"description": "The name of the project that the dataset was created as part of."
						},
						"details": {
							"type": "string",
							"description": "Additional details about the dataset"
						},
						"biblio_title": {
							"type": "string",
							"description": "Authors/year/title of publication"
						},
						"biblio_url": {
							"type": "string",
							"description": "URL of publication",
							"format": "uri"
						},
						"subnational_coverage": {
							"type": "array",
							"items": {
								"type": "string"
							},
							"description": "Locations covered by the data at a sub-national level, e.g. specific cities or states."
						},
						"license_code": {
							"$ref": "#/$defs/common_license",
							"description": "Type of license"
						}
					}
				},
				"resources": {
					"type": "array",
					"description": "An array of one of more resource objects each describing a version of the risk dataset.",
					"items": {
						"resource": {
							"type": "object",
							"required": [
								"title",
								"format",
								"url"
							],
							"properties": {
								"title": {
									"type": "string",
									"description": "A title for this dataset."
								},
								"description": {
									"type": "string",
									"description": "Additional description of the dataset version not already covered by the other resource fields."
								},
								"format": {
									"type": "string",
									"description": "The file format of the dataset version using the file extension code."
								},
								"horizontal_resolution": {
									"type": "number",
									"description": "The horizontal resolution of the dataset version given in meters. This field is only applicable to raster data."
								},
								"coordinate_system": {
									"type": "string",
									"description": "The reference co-ordinate system of the dataset version, using the EPSG codelist (https://epsg.org)."
								},
								"url": {
									"type": "string",
									"description": "The web address the dataset version can be downloaded from.",
									"format": "uri"
								},
								"period": {
									"type": "string",
									"description": "The period of time covered by this dataset version given as a year or range of years."
								}
							}
						}
					}
				}
			}
		}
	},
	"anyOf": [
		{
			"type": "object",
			"title": "hazard",
			"properties": {
				"hazard": {
					"type": "object",
					"required": [
						"event_set",
						"event",
						"footprint_set"
					],
					"properties": {
						"event_set": {
							"type": "object",
							"required": [
								"hazard_type",
								"analysis_type"
							],
							"properties": {
								"hazard_type": {
									"$ref": "#/$defs/common_hazard_type",
									"description": "Type of hazard modelled"
								},
								"analysis_type": {
									"$ref": "#/$defs/common_analysis_type",
									"description": "Type of analysis, probabilistic or deterministic"
								},
								"geo_area": {
									"type": "array",
									"description": "The name of the geographic area covered by the hazard analysis. Comma-separated list of geographic names.",
									"items": {
										"type": "string"
									}
								},
								"time_start": {
									"type": "string",
									"description": "The time at which the modelled scenario(s) starts [ISO 8601 format]",
									"format": "date"
								},
								"time_end": {
									"type": "string",
									"description": "The time at which the modelled scenario(s) ends [ISO 8601 format]",
									"format": "date"
								},
								"time_span": {
									"type": "string",
									"description": "The extent of the time period covered by the events included in the current scenario hazard analysis [ISO 8601 format]"
								},
								"time_year": {
									"type": "string",
									"description": "General reference year to which the scenario refers to (e.g. '2050')"
								}
							}
						},
						"event": {
							"type": "object",
							"required": [
								"calculation_method",
								"frequency_type"
							],
							"properties": {
								"calculation_method": {
									"$ref": "#/$defs/common_calc_method",
									"description": "The methodology used for the calculation of this event"
								},
								"frequency_type": {
									"$ref": "#/$defs/common_frequency_type",
									"description": "Frequency representation type"
								},
								"return_period": {
									"type": "string",
									"description": "Probability of occurrence expressed as return periods list (10, 100, 1000) or range (10-1000)"
								},
								"occurence_time_start": {
									"type": "string",
									"description": "The start date (and possibly time) of the time period used to specify either the frequency or the occurrence_probability [ISO 8601 format]",
									"format": "date-time"
								},
								"occurence_time_end": {
									"type": "string",
									"description": "The end date (and possibly time) of the time period used to specify either the frequency or the occurrence_probability [ISO 8601 format]",
									"format": "date-time"
								},
								"occurence_time_span": {
									"type": "string",
									"description": "The duration (years) of the period used to specify either the frequency or the occurrence_probability"
								},
								"trigger_hazard_type": {
									"$ref": "#/$defs/common_hazard_type",
									"description": "Hazard type that triggered the event"
								},
								"trigger_process_type": {
									"$ref": "#/$defs/common_process_type",
									"description": "Process type that triggered the event"
								},
								"description": {
									"type": "string",
									"description": "Provides additional information about this specific event"
								}
							}
						},
						"footprint_set": {
							"type": "object",
							"properties": {
								"process_type": {
									"$ref": "#/$defs/common_process_type",
									"description": "Type of hazard process modelled"
								},
								"imt": {
									"$ref": "#/$defs/im_code",
									"description": "Hazard intensity measure unit"
								},
								"data_uncertainty": {
									"type": "string",
									"description": "Comments about the uncertainty of data"
								}
							}
						}
					}
				}
			}
		},
		{
			"type": "object",
			"title": "exposure",
			"properties": {
				"exposure": {
					"type": "object",
					"required": [
						"model",
						"value"
					],
					"properties": {
						"model": {
							"type": "object",
							"required": [
								"category",
								"occupancy"
							],
							"properties": {
								"category": {
									"description": "Type of asset",
									"$ref": "#/$defs/common_exp_category"
								},
								"taxonomy_source": {
									"type": "string",
									"description": "Name of taxonomy source (default is GED4ALL)",
									"default": "GED4ALL"
								},
								"time_year": {
									"type": "string",
									"description": "General reference year to which the scenario refers to (e.g. '2050')"
								}
							}
						},
						"value": {
							"type": "object",
							"properties": {
								"val_type": {
									"description": "Type of asset value",
									"$ref": "#/$defs/common_exp_val_type"
								},
								"val_unit": {
									"type": "string",
									"description": "Unit of measure"
								}
							}
						}
					}
				}
			}
		},
		{
			"type": "object",
			"title": "vulnerability",
			"properties": {
				"vulnerability": {
					"type": "object",
					"properties": {
						"model": {
							"type": "object",
							"properties": {
								"hazard_type_primary": {
									"description": "Primary hazard involved",
									"$ref": "#/$defs/common_hazard_type"
								},
								"hazard_type_secondary": {
									"description": "Secondary hazard involved",
									"$ref": "#/$defs/common_hazard_type"
								},
								"process_type_primary": {
									"description": "Primary process involved",
									"$ref": "#/$defs/common_process_type"
								},
								"process_type_secondary": {
									"description": "Secondary process involved",
									"$ref": "#/$defs/common_process_type"
								},
								"frequency_type": {
									"description": "Frequency representation type",
									"$ref": "#/$defs/common_frequency_type"
								},
								"imt": {
									"description": "Hazard intensity measure unit",
									"$ref": "#/$defs/im_code"
								},
								"category": {
									"description": "Type of asset",
									"$ref": "#/$defs/common_exp_category"
								},
								"occupancy": {
									"description": "Type of occupancy to which function applies",
									"$ref": "#/$defs/common_exp_occupancy"
								},
								"val_type": {
									"description": "Type of asset value",
									"$ref": "#/$defs/common_exp_val_type"
								},
								"val_unit": {
									"type": "string",
									"description": "Unit of measure"
								},
								"taxonomy_source": {
									"type": "string",
									"description": "Source of taxonomy"
								},
								"impact_type": {
									"description": "Type of impact",
									"$ref": "#/$defs/common_impact_type"
								},
								"scale_applicability": {
									"description": "Administrative level of application",
									"$ref": "#/$defs/common_aggregation_type"
								},
								"country_tranferability": {
									"description": "ISOa3 list of countries in which the model could be applied",
									"$ref": "#/$defs/common_iso"
								},
								"local_applicability": {
									"type": "string",
									"description": "Area within a country or region to wich the model specifically applies"
								},
								"transferability_notes": {
									"type": "string",
									"description": "Details about applicability to different areas"
								},
								"function_type": {
									"$ref": "#/$defs/vulnerability_function_type",
									"description": "Type of function"
								},
								"calculation_method": {
									"$ref": "#/$defs/common_calc_method",
									"description": "The methodology used for the calculation of the function"
								},
								"approach": {
									"$ref": "#/$defs/vulnerability_f_subtype",
									"description": "Type of methodological approach"
								},
								"f_relationship": {
									"$ref": "#/$defs/vulnerability_f_relationship",
									"description": "Type of relationship: Mathematical or Discrete"
								},
								"f_math": {
									"$ref": "#/$defs/vulnerability_f_math",
									"description": "Parametric or bespoke"
								}
							}
						},
						"specifics": {
							"type": "object",
							"properties": {
								"analysis_details": {
									"description": "Description of analysis that produced the function",
									"type": "string"
								}
							}
						}
					}
				}
			}
		},
		{
			"type": "object",
			"title": "loss",
			"properties": {
				"loss": {
					"type": "object",
					"properties": {
						"model": {
							"type": "object",
							"properties": {
								"hazard_type": {
									"$ref": "#/$defs/common_hazard_type",
									"description": "Type of hazard modelled"
								},
								"process_type": {
									"$ref": "#/$defs/common_process_type",
									"description": "Type of hazard process modelled"
								},
								"time_start": {
									"type": "string",
									"description": "The time at which the modelled scenario(s) starts [ISO 8601 format]",
									"format": "date"
								},
								"time_end": {
									"type": "string",
									"description": "The time at which the modelled scenario(s) ends [ISO 8601 format]",
									"format": "date"
								},
								"time_year": {
									"type": "string",
									"description": "General reference year to which the scenario refers to (e.g. '2050')"
								},
								"occupancy": {
									"$ref": "#/$defs/common_exp_occupancy",
									"description": "Destination of use of the asset"
								},
								"category": {
									"$ref": "#/$defs/common_exp_category",
									"description": "Exposure category"
								},
								"val_type": {
									"$ref": "#/$defs/common_exp_val_type",
									"description": "Element on which loss insist"
								},
								"impact": {
									"$ref": "#/$defs/common_impact_type",
									"description": "Type of impact"
								},
								"loss_type": {
									"$ref": "#/$defs/loss_loss_type",
									"description": "Type of loss"
								},
								"frequency": {
									"$ref": "#/$defs/common_frequency_type",
									"description": "Frequency representation type"
								},
								"return_period": {
									"type": "string",
									"description": "Probability of occurrence expressed as return periods list (10, 100, 1000) or range (10-1000)"
								},
								"calculation_method": {
									"$ref": "#/$defs/common_calc_method",
									"description": "The methodology used for the calculation of this event"
								},
								"metric": {
									"$ref": "#/$defs/loss_metric",
									"description": "Type of loss metric"
								},
								"val_unit": {
									"type": "string",
									"description": "Unit of measure"
								},
								"hazard_link": {
									"type": "string",
									"description": "URL of source hazard data",
									"format": "uri"
								},
								"exposure_link": {
									"type": "string",
									"description": "URL of source exposure data",
									"format": "uri"
								},
								"vulnerability_link": {
									"type": "string",
									"description": "URL of source vulnerability data",
									"format": "uri"
								}
							}
						}
					}
				}
			}
		}
	],
	"$defs": {
		"common_aggregation_type": {
			"type": "string",
			"enum": [
				"Individual items",
				"Aggregated to grid",
				"Aggregated to boundaries",
				"N/A"
			]
		},
		"common_analysis_type": {
			"type": "string",
			"enum": [
				"Deterministic",
				"Probabilistic"
			]
		},
		"common_calc_method": {
			"type": "string",
			"enum": [
				"Inferred",
				"Simulated",
				"Observed"
			]
		},
		"common_exp_category": {
			"type": "string",
			"enum": [
				"Buildings",
				"Indicators",
				"Infrastructures",
				"Crops, livestock and forestry"
			]
		},
		"common_exp_occupancy": {
			"type": "string",
			"enum": [
				"TO UPDATE"
			]
		},
		"common_exp_val_type": {
			"type": "string",
			"enum": [
				"Structure",
				"Content",
				"Product",
				"Other"
			]
		},
		"common_frequency_type": {
			"type": "string",
			"enum": [
				"Rate of Exceedence",
				"Probability of Exceedence",
				"Return Period"
			]
		},
		"common_hazard_type": {
			"type": "string",
			"enum": [
				"CF",
				"CS",
				"DR",
				"EQ",
				"ET",
				"FL",
				"LS",
				"MH",
				"TS",
				"VO",
				"WF",
				"WI"
			]
		},
		"common_impact_type": {
			"type": "string",
			"enum": [
				"Direct",
				"Indirect",
				"Total"
			]
		},
		"common_iso": {
			"type": "string",
			"enum": [
				"GLB",
				"ABW",
				"AFG",
				"AGO",
				"AIA",
				"ALB",
				"AND",
				"ARE",
				"ARG",
				"ARM",
				"ASM",
				"ATG",
				"AUS",
				"AUT",
				"AZE",
				"BDI",
				"BEL",
				"BEN",
				"BFA",
				"BGD",
				"BGR",
				"BHR",
				"BHS",
				"BIH",
				"BLM",
				"BLR",
				"BLZ",
				"BMU",
				"BOL",
				"BRA",
				"BRB",
				"BRN",
				"BTN",
				"BWA",
				"CAF",
				"CAN",
				"CHE",
				"CHL",
				"CHN",
				"CIV",
				"CMR",
				"COD",
				"COG",
				"COK",
				"COL",
				"COM",
				"CPV",
				"CRI",
				"CUB",
				"CUW",
				"CYM",
				"CYP",
				"CZE",
				"DEU",
				"DJI",
				"DMA",
				"DNK",
				"DOM",
				"DZA",
				"ECU",
				"EGY",
				"ERI",
				"ESP",
				"EST",
				"ETH",
				"FIN",
				"FJI",
				"FLK",
				"FRA",
				"FRO",
				"FSM",
				"GAB",
				"GBR",
				"GEO",
				"GGY",
				"GHA",
				"GIB",
				"GIN",
				"GMB",
				"GNB",
				"GNQ",
				"GRC",
				"GRD",
				"GRL",
				"GTM",
				"GUM",
				"GUY",
				"HKG",
				"HMD",
				"HND",
				"HRV",
				"HTI",
				"HUN",
				"IDN",
				"IMN",
				"IND",
				"IRL",
				"IRN",
				"IRQ",
				"ISL",
				"ISR",
				"ITA",
				"JAM",
				"JEY",
				"JOR",
				"JPN",
				"KAZ",
				"KEN",
				"KGZ",
				"KHM",
				"KIR",
				"KNA",
				"KOR",
				"KWT",
				"LAO",
				"LBN",
				"LBR",
				"LBY",
				"LCA",
				"LIE",
				"LKA",
				"LSO",
				"LTU",
				"LUX",
				"LVA",
				"MAC",
				"MAF",
				"MAR",
				"MCO",
				"MDA",
				"MDG",
				"MDV",
				"MEX",
				"MHL",
				"MKD",
				"MLI",
				"MLT",
				"MMR",
				"MNE",
				"MNG",
				"MNP",
				"MOZ",
				"MRT",
				"MSR",
				"MUS",
				"MWI",
				"MYS",
				"NAM",
				"NCL",
				"NER",
				"NFK",
				"NGA",
				"NIC",
				"NIU",
				"NLD",
				"NOR",
				"NPL",
				"NRU",
				"NZL",
				"OMN",
				"PAK",
				"PAN",
				"PCN",
				"PER",
				"PHL",
				"PLW",
				"PNG",
				"POL",
				"PRI",
				"PRK",
				"PRT",
				"PRY",
				"PSE",
				"PYF",
				"QAT",
				"ROU",
				"RUS",
				"RWA",
				"SAU",
				"SDN",
				"SEN",
				"SGP",
				"SGS",
				"SHN",
				"SLB",
				"SLE",
				"SLV",
				"SMR",
				"SOM",
				"SPM",
				"SRB",
				"SSD",
				"STP",
				"SUR",
				"SVK",
				"SVN",
				"SWE",
				"SWZ",
				"SXM",
				"SYC",
				"SYR",
				"TCA",
				"TCD",
				"TGO",
				"THA",
				"TJK",
				"TKM",
				"TLS",
				"TON",
				"TTO",
				"TUN",
				"TUR",
				"TUV",
				"TZA",
				"UGA",
				"UKR",
				"URY",
				"USA",
				"UZB",
				"VAT",
				"VCT",
				"VEN",
				"VGB",
				"VIR",
				"VNM",
				"VUT",
				"WLF",
				"WSM",
				"XXK",
				"YEM",
				"ZAF",
				"ZMB",
				"ZWE"
			]
		},
		"common_license": {
			"type": "string",
			"enum": [
				"CC0-1.0",
				"PDDL-1.0",
				"CC-BY-4.0",
				"ODC-By-1.0",
				"CC-BY-SA-4.0",
				"ODbL-1.0"
			]
		},
		"common_process_type": {
			"type": "string",
			"enum": [
				"FCF",
				"FSS",
				"TOR",
				"DTA",
				"DTH",
				"DTM",
				"DTS",
				"Q1R",
				"Q2R",
				"QGM",
				"QLI",
				"ECD",
				"EHT",
				"FFF",
				"FPF",
				"LAV",
				"LSL",
				"TSI",
				"VAF",
				"VBL",
				"VFH",
				"VLH",
				"VLV",
				"VPF",
				"WFI",
				"ETC",
				"TCY"
			]
		},
		"im_code": {
			"type": "string",
			"enum": [
				"PG+E47:E70A:g",
				"PGA:m/s2",
				"PGV:m/s",
				"AvgSa:m/s2",
				"Sd(T1):m",
				"Sv(T1):m/s",
				"PGDf:m",
				"D:s",
				"IA:m/s",
				"Neq:-",
				"EMS:-",
				"MMI:-",
				"CAV:m/s",
				"D_B:s",
				"fl_wd:m",
				"fl_wv:m/s",
				"v_ect(3s):km/h",
				"v_ect(1m):km/h",
				"v_etc(10m):km/h",
				"PGWS_tcy:km/h",
				"ls_fd:m",
				"I_DF:m3/s2",
				"v_lsl:m/s2",
				"ls_mfd:m",
				"SD_lsl:m",
				"Rh_tsi:m",
				"d_tsi:m",
				"MMF:m4/s2",
				"F_drag:kN",
				"Fr:-",
				"v_tsi:m/s",
				"F_QS:kN",
				"MF:m3/s2",
				"h_tsi:m",
				"Fh_tsi:m",
				"h_vaf:m",
				"L_vaf:kg/m2",
				"CMI:-",
				"PDSI:-",
				"SPI:-"
			]
		},
		"loss_loss_type": {
			"type": "string",
			"enum": [
				"Ground Up",
				"Insured"
			]
		},
		"loss_metric": {
			"type": "string",
			"enum": [
				"Annual Average Losses",
				"Annual Average Loss Ratio",
				"Probable Maximal Loss"
			]
		},
		"model": {
			"type": "object",
			"description": "The source model that produced the dataset.",
			"properties": {
				"title": {
					"title": "Source model title",
					"description": "The name of the model that the dataset originated from.",
					"type": "string"
				},
				"date": {
					"title": "Source model release date",
					"description": "The date this dataset was published.",
					"type": "string",
					"format": "date-time"
				}
			}
		},
		"vulnerability_function_type": {
			"type": "string",
			"enum": [
				"Fragility",
				"Vulnerability",
				"Damage-to-Loss"
			]
		},
		"vulnerability_f_subtype": {
			"type": "string",
			"enum": [
				"Empirical",
				"Analytical",
				"Judgement",
				"Hybrid"
			]
		},
		"vulnerability_f_relationship": {
			"type": "string",
			"enum": [
				"TO Update"
			]
		},
		"vulnerability_f_math": {
			"type": "string",
			"enum": [
				"TO UPDATE"
			]
		}
	}
}